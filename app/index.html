<!doctype html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="stylesheets/main.css">
	<script src='bower_components/lodash/dist/lodash.min.js'></script>
	<script src="bower_components/angular/angular.min.js"></script>
	<script src='bower_components/angular-simple-logger/dist/angular-simple-logger.min.js'></script>
	<script src='bower_components/angular-google-maps/dist/angular-google-maps.min.js'></script>
	<script src='bower_components/dymo-core/io/dymoloader.js'></script>
	<script src='bower_components/dymo-core/io/globals.js'></script>
	<script src='bower_components/dymo-core/math/functioninverter.js'></script>
	<script src='bower_components/dymo-core/audio/scheduler.js'></script>
	<script src='bower_components/dymo-core/logic/parameter.js'></script>
	<script src='bower_components/dymo-core/logic/dymo.js'></script>
	<script src='bower_components/dymo-core/logic/mapping.js'></script>
	<script src='bower_components/dymo-core/navigators/sequential.js'></script>
	<script src='bower_components/dymo-core/navigators/similarity.js'></script>
	<script src='bower_components/dymo-generator/globals.js'></script>
	<script src='bower_components/dymo-generator/dymo-generator.js'></script>
	<script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>
	<script src="scripts/app.js"></script>
	<script src="scripts/controllers/maincontroller.js"></script>
	<script src="scripts/services/d3.js" charset="utf-8"></script>
	<script src='bower_components/music-visualization/dymoarcs.js'></script>
	<script src='bower_components/music-visualization/dymograph.js'></script>
	<script src='bower_components/music-visualization/dymoblocks.js'></script>
</head>
<body ng-app="gratefulDead">
	<div  ng-controller="MainController">
		<h1>Grateful Live</h1>
		<div ng-if="currentView == SHOW_VIEW">
			<h2>{{ selectedShow.title }}</h2>
			<h3><a ng-href="#" ng-click="gotoLocationView(selectedShow.coverage)">{{selectedShow.coverage}}</a></h3>
			<h3><a ng-href="#" ng-click="gotoVenueView(selectedShow.venue, selectedShow.coverage)">{{selectedShow.venue}}</a></h3>
			<img ng-src="{{selectedShow.ticket}}" height="220" onerror="this.style.display='none'"/>
			<img ng-src="{{selectedShow.pass}}" height="220" onerror="this.style.display='none'"/>
			<img ng-src="{{selectedShow.poster}}" height="220" onerror="this.style.display='none'"/>
			<div ng-repeat="s in selectedShow.setlist">
				<a ng-if="s.inSampleSongs" ng-href="#" ng-click="gotoSongView(s.plainTitle)">{{s.title}}</a>
				<a ng-if="!s.inSampleSongs">{{s.title}}</a>
				<a ng-if="s.inSampleSongs2"><img src="files/logo1.png" width="20" ></a>
				
			</div>
			<br><br>
			<h2>versions at archive.org:</h2>
			<div ng-repeat="r in selectedShow.recordings">
				<a ng-href="https://archive.org/details/{{r.identifier}}" target="_blank">{{r.identifier}}</a>
			</div>
			<br><br>
			
		</div>
		<div ng-if="currentView == SONG_VIEW">
			<h2>{{ selectedSong.name }}</h2>
			<select ng-init="selectedVisualization = visualizations[1]" ng-model="selectedVisualization" ng-options="v.name for v in visualizations"></select>
			<div ng-repeat="v in selectedSong.versions">
				<dymo-arcs ng-if="selectedVisualization == visualizations[0]" data="v.dymoGraph" viewconfig="viewConfig" height="150" playing="scheduler.urisOfPlayingDymos" label="name"></dymo-arcs>
				<dymo-blocks ng-if="selectedVisualization == visualizations[1]" data="v.dymoGraph" viewconfig="viewConfig" height="150" playing="scheduler.urisOfPlayingDymos" label="name"></dymo-blocks>
				<dymo-graph ng-if="selectedVisualization == visualizations[2]" data="v.dymoGraph" viewconfig="viewConfig" height="150" playing="scheduler.urisOfPlayingDymos" label="name"></dymo-graph>
				<a ng-href="#" ng-click="gotoShowView(v.identifier)">{{v.title}}</a>
				<!--button ng-click="play()">Play</button-->
			</div>
		</div>
		<div ng-if="currentView == LOCATION_VIEW">
			<h2>{{ selectedLocation.name }}</h2>
			<div id="map_canvas">
				<ui-gmap-google-map center='map.center' zoom='map.zoom'></ui-gmap-google-map>
				<ul id="navlist">
					<li ng-repeat="i in selectedLocation.images">
						<img ng-src="{{i}}" height="200" onerror="this.style.display='none'"/>
					</li>
				</ul>
			</div>
			<div ng-repeat="s in selectedLocation.shows">
				<a ng-href="#" ng-click="gotoShowView(s.identifier)">{{s.title}}</a>
			</div>
		</div>
		<div ng-if="currentView == VENUE_VIEW">
			<h2>{{ selectedVenue.name }}</h2>
			<div id="map_canvas">
				<ui-gmap-google-map center='map.center' zoom='map.zoom'></ui-gmap-google-map>
				<ul id="navlist">
					<li ng-repeat="i in selectedVenue.images">
						<img ng-src="{{i}}" height="200" onerror="this.style.display='none'"/>
					</li>
				</ul>
			</div>
			<div ng-repeat="s in selectedVenue.shows">
				<a ng-href="#" ng-click="gotoShowView(s.identifier)">{{s.title}}</a>
			</div>
		</div>
	</div>
</body>
</html>